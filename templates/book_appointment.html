{% extends "base.html" %}

{% block css %}
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
{% endblock %}

{% block content %}
    <h1>Prendre un rendez-vous</h1>
    <form method="post" action="{% url 'book_appointment' %}">
        {% csrf_token %}
        <label for="name">Nom :</label>
        <input type="text" name="name" id="name" placeholder="Entrez votre nom" required>

        <label for="email">Email :</label>
        <input type="email" name="email" id="email" placeholder="Entrez votre email" required>

        <label for="date">Date :</label>
        <input type="text" name="date" id="date" placeholder="Choisissez une date" required>

        <label for="time">Heure :</label>
        <input type="text" name="time" id="time" placeholder="Choisissez une heure" required>

        <button type="submit">Prendre rendez-vous</button>
    </form>
{% endblock %}

{% block js %}
    <script src="https://cdn.jsdelivr.net/npm/flatpickr"></script>
    <script>
        // Initialisation du calendrier (Flatpickr) pour la date
        flatpickr("#date", {
            dateFormat: "Y-m-d",  // Format de la date
            minDate: "today",  // Empêcher la sélection de dates passées
        });

        // Initialisation du sélecteur d'heure (Flatpickr) pour l'heure
        flatpickr("#time", {
            enableTime: true,  // Activer le sélecteur d'heure
            noCalendar: true,  // Désactiver le calendrier
            dateFormat: "H:i",  // Format de l'heure
            time_24hr: true,  // Heure en format 24h
        });
    </script>
{% endblock %}
